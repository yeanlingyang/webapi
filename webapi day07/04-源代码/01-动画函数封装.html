<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    * {
        margin: 0;
        padding: 0;
    }

    div {
        width: 100px;
        height: 100px;
        background-color: #f99;
        position: absolute;
        left: 0;
    }
    </style>
</head>

<body>
    <button>点击按钮，去400</button>
    <button>点击按钮，去800</button>
    <div></div>
    <script>
        var btn1 = document.querySelectorAll("button")[0];
        var btn2 = document.querySelectorAll("button")[1];
        var box = document.querySelector("div");

        btn1.onclick = function() {
            animate(box, 96);
        }

        btn2.onclick = function() {
            animate(box, 800);
        }

        /*var timerId; // 全局变量
        window.timerId;*/

        // 作用： 让任意元素去任意left位置
        function animate(element, target) {
            clearInterval(element.timerId);

            element.timerId = setInterval(function () {
                
                // 动画的原理： 在元素当前的位置上移动一段距离
                var current = element.offsetLeft;

                var step = current < target ? 10 : -10;

                if(Math.abs(target - current) < Math.abs(step)){
                    // 到终点了，清定时器了
                    clearInterval(element.timerId);

                    element.style.left = target + "px";
                }else{
                    current += step;
                    element.style.left = current + "px";
                }
            }, 30)
        }
    </script>
</body>

</html>
